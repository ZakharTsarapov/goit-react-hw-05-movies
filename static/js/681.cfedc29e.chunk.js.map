{"version":3,"file":"static/js/681.cfedc29e.chunk.js","mappings":"4LAEaA,EAAS,WACpB,OACE,SAAC,KAAD,CACEC,SAAS,EACTC,OAAO,KACPC,MAAM,KACNC,UAAU,cACVC,aAAc,CAAC,EACfC,aAAa,eAGlB,C,uHCXKC,EAAU,mCACVC,EAAU,gCAIHC,EAAc,mCAAG,sGACLC,EAAAA,EAAAA,IAAA,UAClBF,EADkB,0BAHL,MAGK,oBAC8BD,EAD9B,YADK,uBACpBI,EADoB,EACpBA,KADoB,kBAIrBA,GAJqB,2CAAH,qDAOdC,EAAiB,mCAAG,WAAMC,GAAN,uFACRH,EAAAA,EAAAA,IAAA,UAClBF,EADkB,iBACFK,EADE,oBACiBN,IAFT,cACzBO,EADyB,yBAIxBA,EAASH,MAJe,2CAAH,qD,8ICb9B,EAA4B,6BAA5B,EAAgE,wBAAhE,EAAqG,8BAArG,EAA0I,wB,SCmD1I,EAjDkB,SAAC,GAAe,IAAbI,EAAY,EAAZA,MAGjBC,EAKED,EALFC,YACAC,EAIEF,EAJFE,OACAC,EAGEH,EAHFG,SACAC,EAEEJ,EAFFI,MACAC,EACEL,EADFK,aAGMC,EAAYL,EAAW,0CACQA,GACnC,kEACEM,EAASF,EAAY,WACJ,GAAfA,GAAmBG,QAAQ,GADR,KAEvB,gBACEC,EAASN,GAAsB,eAErC,OACE,iCACE,iBAAKO,UAAWC,EAAhB,WACE,gBAAKC,IAAKN,EAAWO,IAAKT,EAAOhB,MAAM,SACvC,iBAAKsB,UAAWC,EAAhB,WACE,eAAID,UAAWC,EAAf,SAA0BP,KAC1B,yBAAG,eAAaG,MAChB,yBAAG,aAAWE,KACbP,GAAUA,EAAOY,OAAS,IACzB,yBAAG,UAEAZ,EAAOa,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,gBAK9C,4BACE,eAAIR,UAAWC,EAAf,SAA+B,4BAC/B,2BACE,yBACE,SAAC,KAAD,CAAMQ,GAAG,OAAT,SAAgB,YAElB,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,SAAmB,sBAM9B,E,SCjDD,EAAuB,2BC6CvB,EAvCqB,WAAO,IAAD,IACvB,GAA8BC,EAAAA,EAAAA,WAAS,GAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAwCJ,EAAAA,EAAAA,UAAS,CAAC,GAAlD,eAAOK,EAAP,KAAqBC,EAArB,KACQ5B,GAAY6B,EAAAA,EAAAA,MAAZ7B,QACF8B,GAAWC,EAAAA,EAAAA,MACXC,GAAsBC,EAAAA,EAAAA,QAAM,oBAACH,EAASI,aAAV,aAAC,EAAgBC,YAAjB,QAAyB,KAmB3D,OAjBAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAe,mCAAG,WAAOrC,GAAP,uFAEhBwB,GAAW,GAFK,UAGMzB,EAAAA,EAAAA,IAAkBC,GAHxB,OAGVsC,EAHU,OAIhBV,EAAgBU,GAJA,gDAMhBZ,EAAS,KAAMa,SANC,yBAQhBf,GAAW,GARK,4EAAH,sDAYrBa,EAAgBrC,EACnB,GAAE,CAACA,KAIF,gCACGuB,IAAW,SAACpC,EAAA,EAAD,IACXsC,IAAS,wBAAI,iCACd,SAAC,KAAD,CAAMb,UAAWC,EAAUQ,GAAIW,EAAoBQ,QAAnD,SAA4D,UACxD,SAAC,EAAD,CAAWtC,MAAOyB,KAClB,SAAC,EAAAc,SAAD,CAAUC,UAAU,SAACvD,EAAA,EAAD,IAApB,UACI,SAAC,KAAD,QAKf,C","sources":["components/Loader/Loader.jsx","services/api.js","webpack://react-homework-template/./src/components/MovieCard/MovieCard.module.css?a4e5","components/MovieCard/MovieCard.jsx","webpack://react-homework-template/./src/views/MoviesDetail.module.css?6ee6","views/MoviesDetail.jsx"],"sourcesContent":["import { Dna } from 'react-loader-spinner';\n\nexport const Loader = () => {\n  return (\n    <Dna\n      visible={true}\n      height=\"80\"\n      width=\"80\"\n      ariaLabel=\"dna-loading\"\n      wrapperStyle={{}}\n      wrapperClass=\"dna-wrapper\"\n    />\n  );\n};\n","import axios from 'axios';\n\nconst API_KEY = '2b204635b1bab7df660e08a06b148a8e';\nconst API_URL = 'https://api.themoviedb.org/3/';\n\nconst time_window = 'day';\n\nexport const fetchAllMovies = async () => {\n  const { data } = await axios.get(\n    `${API_URL}trending/movie/${time_window}?api_key=${API_KEY}&page=1`\n  );\n  return data;\n};\n\nexport const fetchMovieDetails = async movieId => {\n  const response = await axios.get(\n    `${API_URL}movie/${movieId}?api_key=${API_KEY}`\n  );\n  return response.data;\n};\n\nexport const fetchCast = async movieId => {\n  const response = await axios.get(\n    `${API_URL}/movie/${movieId}/cast?api_key=${API_KEY}`\n  );\n  return response.data;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieCard_container__4KN1P\",\"info\":\"MovieCard_info__QTHMi\",\"additional\":\"MovieCard_additional__0E6if\",\"text\":\"MovieCard_text__NNMdE\"};","import { Link } from \"react-router-dom\";\nimport css from './MovieCard.module.css'\n\nconst MovieCard = ({ movie }) => {\n\n    const {\n    poster_path,\n    genres,\n    overview,\n    title,\n    vote_average,\n  } = movie;\n  \n    const posterUrl = poster_path\n    ? `https://image.tmdb.org/t/p/w400/${poster_path}`\n    : 'https://image.tmdb.org/t/p/w500/dykOcAqI01Fci5cKQW3bEUrPWwU.jpg';\n  const rating = vote_average\n    ? `${(vote_average * 10).toFixed(0)}%`\n    : 'Not rated yet';\n  const review = overview ? overview : 'Not overview';\n\n  return (\n    <>\n      <div className={css.container}>\n        <img src={posterUrl} alt={title} width=\"200\" />\n        <div className={css.info}>\n          <h2 className={css.text}>{title}</h2>\n          <p>User score: {rating}</p>\n          <p>Overview :{review}</p>\n          {genres && genres.length > 0 && (\n            <p>\n              Genres:\n              {genres.map(genre => genre.name).join(', ')}\n            </p>\n          )}\n        </div>\n      </div>\n      <div>\n        <h5 className={css.additional}>Additional information</h5>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n      </div>\n    </>\n  );  \n}; \n\nexport default MovieCard;","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"MoviesDetail_link__XPuv+\"};","import { useEffect, useState, useRef, Suspense } from \"react\";\nimport { useLocation, useParams, Link, Outlet } from \"react-router-dom\";\nimport { fetchMovieDetails } from \"services/api\";\nimport MovieCard from \"components/MovieCard/MovieCard\";\nimport { Loader } from \"components/Loader/Loader\";\nimport css from './MoviesDetail.module.css';\n\nconst MoviesDetail = () => {\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [movieDetails, setMovieDetails] = useState({})\n    const { movieId } = useParams();\n    const location = useLocation();\n    const backLinkLocationRef = useRef(location.state?.from ?? '/');\n\n    useEffect(() => {\n        const getMovieDetails = async (movieId) => {\n            try {\n                setLoading(true);\n                const results = await fetchMovieDetails(movieId);\n                setMovieDetails(results);\n            } catch (error) {\n                setError(error.message);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        getMovieDetails(movieId);\n    }, [movieId])\n\n\n    return (\n      <>\n        {loading && <Loader />}\n        {error && <h1>Something went wrong man...</h1>}\n        <Link className={css.link} to={backLinkLocationRef.current}>Back</Link>\n            <MovieCard movie={movieDetails} />\n            <Suspense fallback={<Loader />}>\n                <Outlet />\n            </Suspense>\n      </>\n    );\n\n}\n\nexport default MoviesDetail;"],"names":["Loader","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","API_KEY","API_URL","fetchAllMovies","axios","data","fetchMovieDetails","movieId","response","movie","poster_path","genres","overview","title","vote_average","posterUrl","rating","toFixed","review","className","css","src","alt","length","map","genre","name","join","to","useState","loading","setLoading","error","setError","movieDetails","setMovieDetails","useParams","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","getMovieDetails","results","message","current","Suspense","fallback"],"sourceRoot":""}